<p-fluid class="custom-card-form">
    <form [formGroup]="form" class="custom-grid-form">
        <div class="custom-section-title-form md:col-span-12 text-center">
            Ingreso al Sistema
        </div>

        <div class="md:col-span-12 custom-field-form">
            <label
                appLabel for="username"
                label="Cédula"
                [required]="usernameField"></label>

            <input
                pInputText
                type="text"
                id="username"
                formControlName="username" />

            <p-message
                appErrorMessage
                [errors]="usernameField.errors"
                [touched]="usernameField.touched"
                [dirty]="usernameField.dirty" />
        </div>

        <div class="custom-field-form md:col-span-12">
            <label
                appLabel
                for="password"
                [required]="passwordField"
                label="Contraseña">
            </label>

            <p-password
                id="password"
                formControlName="password"
                [toggleMask]="true"
                [feedback]="false" />

            <p-message
                appErrorMessage
                [errors]="passwordField.errors"
                [touched]="passwordField.touched"
                [dirty]="passwordField.dirty" />
        </div>

        <div class="custom-field-form md:col-span-12">
            <p-button
                label="Ingresar"
                [icon]="PrimeIcons.SIGN_IN"
                (onClick)="onSubmit()" />
        </div>

        <div class="custom-field-form md:col-span-6">
            <p-button
                label="Crear Cuenta"
                [icon]="PrimeIcons.USER_PLUS"
                severity="success"
                [routerLink]="MY_ROUTES.authPages.signUp.absolute" />
        </div>

        <div class="custom-field-form md:col-span-6">
            <p-button
                label="Recuperar Cuenta"
                [icon]="PrimeIcons.LOCK_OPEN"
                severity="help"
                [routerLink]="MY_ROUTES.authPages.passwordReset.absolute" />
        </div>
    </form>
</p-fluid>

<p-dialog [(visible)]="isVisibleRoles"
          [modal]="true"
          [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
          [style]="{ width: '25vw' }"
          [draggable]="false"
          (onHide)="closeRoleSelect()"
          [resizable]="false">
    <ng-template #header>
        <div class="custom-section-title-form">
            Seleccione un Rol
        </div>
    </ng-template>

    <p-fluid class="custom-card-form">
        <div class="custom-grid-form">
            @for (role of roles; track role.id) {
                <div class="custom-field-form md:col-span-12">
                    <p-button
                        variant="text"
                        [raised]="true"
                        [label]="role.name"
                        (onClick)="selectRole(role)" />
                </div>
            }
        </div>
    </p-fluid>
</p-dialog>
